"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5064],{42650:function(e,t,n){var r=n(85893),i=n(5152),a=n.n(i),o=n(41664),c=n.n(o),l=n(67294),s=n(80032),d=n(82822),u=n(81990),h=n(34431),m=n(89845),f=n(99979),p=n(92222),w=n(28451),v=n(8135);let g=a()(()=>n.e(1606).then(n.bind(n,71606)),{loadableGenerated:{webpack:()=>[71606]},loading:()=>""}),x=a()(()=>n.e(5498).then(n.bind(n,85498)),{loadableGenerated:{webpack:()=>[85498]},loading:()=>""}),{addToCompare:y}=s.Z,{COMPARE_GIF:b}=d.Z,F={desktop:"fixed bottom-[9.2rem] mb-3 border-2 border-theme-orange z-[21] right-2.5 bg-white hover:shadow-xl transition-all rounded-full w-14 h-14 flex justify-center items-center cursor-pointer duration-1000",mobile:"flex w-full z-[21] justify-center items-center h-full gap-1",propertyDetail:"w-full flex flex-row-reverse justify-center h-full"};t.Z=function(e){let{children:t,page:n,isMobile:i=!1,trackingClass:a}=e,{compareState:{error:o,list:c,modalProps:s},compareDispatch:d,state:{isCompareWidgetVisible:p},actions:{setWidgetVisibility:g}}=(0,u.kN)(),{actions:{showErrorToast:b}}=(0,h.V6)(),j=i?"mobile":"desktop",N=(0,l.useRef)(),_=Object.values(c);(0,l.useEffect)(()=>(o&&(b({message:o}),d({type:"CLEAR_ERROR"})),()=>I("CLOSE_MODAL")),[o]);let C=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";d({type:e}),(0,f.M)(!p),(0,m.cV)(!p),g(!p)},I=e=>{d({type:e,value:null==s?void 0:s.value})};return(0,r.jsxs)(r.Fragment,{children:[(null==s?void 0:s.visible)&&(0,r.jsx)(x,{cancelHandler:()=>I("CLOSE_MODAL"),className:"md:w-128 w-11/12 rounded-xl",isOpen:null==s?void 0:s.visible,size:"lg",children:(0,r.jsxs)("div",{className:"flex flex-col justify-center items-center text-center gap-4",children:[(0,r.jsx)("p",{children:"You can compare properties from the same city. If a property from a different city is added, previously selected properties will be removed"}),(0,r.jsx)(w.default,{onClick:()=>I("CHANGE_CITY"),children:"Continue"})]})}),(0,r.jsx)("div",{className:n?"".concat(F[n]," ").concat(a):"".concat(F[j]," ").concat(a),id:"compare_widget",onClick:C,children:"propertyDetail"===n?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-2 mt-1",children:!!_.length&&(0,r.jsx)("div",{className:"w-4 h-4 bg-theme-orange rounded-full flex justify-center items-center text-white content-font",children:_.length})}),t]}):i?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v.Z,{alt:"Compare Icon",height:"18",priority:!0,src:y,width:"18"}),(0,r.jsx)("p",{className:"text-theme-orange content-font font-medium",children:"Compare List"}),(0,r.jsx)("div",{className:"w-4 h-4 bg-theme-orange rounded-full flex justify-center items-center text-white text-xs ".concat(_.length?"visible":"invisible"),children:_.length})]}):(0,r.jsxs)(r.Fragment,{children:[!!_.length&&(0,r.jsx)("div",{className:"w-5 h-5 bg-theme-orange p-1 absolute -right-1 -top-1.5 rounded-full flex justify-center items-center text-white text-xs",children:_.length}),(0,r.jsx)(v.Z,{alt:"Compare Icon",height:"20",priority:!0,src:y,width:"20"})]})}),p&&(0,r.jsx)(S,{compareList:_,device:j,isMobile:i,reduceZIndexOfGlobalElements:m.cV,toggleWidgetVisibility:C,widgetRef:N})]})};let S=e=>{let{isMobile:t,compareList:n,toggleWidgetVisibility:i,widgetRef:a,reduceZIndexOfGlobalElements:o}=e;return(0,l.useEffect)(()=>()=>i(),[]),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"fixed w-full bg-black/30 h-screen left-0 top-0 z-20",onClick:i,ref:a}),(0,r.jsx)("div",{className:"fixed bg-white p-4 rounded-md transition-all  z-[21] ".concat(t?"bottom-0 left-0 w-full":" bottom-24 right-20  w-[20rem]  shadow-xl"," "),children:n.length?(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,r.jsx)("p",{className:"text-base text-theme-gray-text",children:"Compare List"}),(0,r.jsx)("p",{className:"cursor-pointer content-font text-theme-orange",onClick:()=>i("CLEAR"),children:"Clear All"})]}),(0,r.jsx)("ul",{className:"divide-y-2 divide-gray-100",children:n.map(e=>(0,r.jsx)(g,{property:e,type:"COMPARE_WIDGET"},e._id))}),(0,r.jsx)(c(),{href:(0,p.II)(),children:(0,r.jsxs)(w.default,{className:"mt-2 w-full",id:"widgetButton",onClick:()=>o(!1),size:"lg",children:["COMPARE"," ",(0,r.jsx)("div",{className:"bg-white text-theme-orange w-5 h-5 rounded-full flex justify-center items-center text-base",children:n.length})]})})]}):(0,r.jsxs)("div",{className:"".concat(t?"":"h-[19rem]"," flex flex-col gap-4"),children:[(0,r.jsx)(v.Z,{alt:"Compare GIF",className:"pl-2",height:"202",priority:!0,sizes:"(max-width: 768px) 50vw, 10vw",src:b,width:"340"}),(0,r.jsx)("div",{className:"text-center relative before:absolute before:border-b-2 before:border-dashed before:z-10 before:h-3 before:w-full before:left-0",children:(0,r.jsx)("span",{className:"w-20 z-20 relative bg-white px-5",children:"OR"})}),(0,r.jsx)(c(),{href:(0,p.II)(),children:(0,r.jsx)(w.default,{className:"w-full",onClick:()=>o(!1),size:"lg",children:"GO TO COMPARE"})})]})})]})}},82822:function(e,t){t.Z={BLUR_SCREEN_STEPS_DESKTOP:"https://cdn.universityliving.com/files/1667554720561compare_sillhoute_web.webp",BLUR_SCREEN_STEPS_MOBILE:"https://cdn.universityliving.com/files/1667565550781compare_sillhoute_mobile-2.webp",COMPARE_GIF:"https://d3hk5c2fo9op52.cloudfront.net/addToCompare.gif",HERO_SECTION_LEFT:"https://cdn.universityliving.com/files/1667554977770landscape_web_leftside.webp",HERO_SECTION_RIGHT:"https://cdn.universityliving.com/files/1667555109447landscape_web_rightside.webp",TRANSIT_ICON_DRIVING:"https://cdn.universityliving.com/files/1668672975008vector.svg",TRANSIT_ICON_METRO:"https://cdn.universityliving.com/files/1668673226560vector-2.svg",TRANSIT_ICON_WALKING:"https://cdn.universityliving.com/files/1668673228331vector-1.svg"}},86866:function(e,t,n){n.d(t,{Cm:function(){return q},Dz:function(){return W},E6:function(){return X},GJ:function(){return P},IF:function(){return K},IK:function(){return J},UP:function(){return U},Vo:function(){return ee},Xn:function(){return M},_c:function(){return D},bT:function(){return V},cw:function(){return A},ej:function(){return H},er:function(){return Y},iB:function(){return Q},mP:function(){return et},qN:function(){return er},uV:function(){return en},w3:function(){return $},w_:function(){return z},yM:function(){return G},zn:function(){return B}});var r=n(739),i=n(89845),a=n(34045),o=n(66559);let{ACTIVE_GATEWAY:c,ADD_PROPERTY_TO_WISHLIST:l,CARD_VALIDATION_FAILED:s,COST_OF_LIVING_HOUSING_CALCULATION:d,COST_OF_LIVING_DAILY_MISCELLANEOUS_CALCULATION:u,COST_OF_LIVING_FOOD_CALCULATION:h,COST_OF_LIVING_TRAVEL_CALCULATION:m,CHECK_BOOKING_AVAILABILITY:f,CREATE_STURENT_BOOKING:p,DISTANCE_MATRIX:w,GET_WISHLIST:v,INITIATE_PAYMENT_REQUEST:g,PARTIAL_BOOKING:x,PAYMENT_FAILED:y,POST_BOOKING:b,PROPERTIES_COUNT:F,PROPERTIES_PRICES:S,PROPERTY_ALL_ROOMS:j,PROPERTY_REVIEWS_ELIGIBILITY:N,PROPERTY_REVIEWS:_,PROPERTY_UPDATED_DETAILS:C,PROPERTY_PRICE_TRENDS:I,PROPERTY_PRICE_TRENDS_FEEDBACK:E,REMOVE_PROPERTY_FROM_WISHLIST:R,UPDATE_STURENT_INFO:O,USERS_BOOKING_REQUEST:k,DYNAMIC_FILTER_INTAKE:T,COUNTRY_STATE_CITY_MAPPING:L}=a.q,A=async e=>{let{propertyId:t,roomIds:n,visitorCountryCode:i}=e,{data:a,isError:o}=await new r.S().FetchFromServer(C.endpoint.replace(":propertyId",t),C.method,!1,{roomIds:n},void 0,{},i);return{isError:o,propertyData:a}},D=async e=>{let{propertySlug:t,excludeIds:n}=e,{data:i,isError:a}=await new r.S().FetchFromServer(j.endpoint.replace(":propertySlug",t),j.method,!1,{excludeIds:n});return{isError:a,propertyRooms:i}},G=async e=>{let{data:t,isError:n}=await new r.S().FetchFromServer(w.endpoint,w.method,!1,void 0,e);return{data:t,isError:n}},z=async e=>{let{data:t,isError:n}=await new r.S().FetchFromServer(c.endPoint.replace(":currencyCode",e),c.method);return n?{data:{gateway:"worldpay"}}:t},M=async e=>{let{payload:t}=e,{data:n,isError:r}=await Z();return r?{isError:r}:await Z(t,{intent:n.intent,token:(0,i.Xx)(n.intent)})},P=async e=>{let{data:t,isError:n}=await new r.S().FetchFromServer(p.endpoint,p.method,!1,void 0,e);return{data:t,isError:n}},V=async e=>{let{bookingId:t}=e,{data:n,isError:i}=await new r.S().FetchFromServer(O.endpoint.replace(":bookingId",t),O.method);return{data:n,isError:i}},Z=async(e,t)=>{let{data:n,isError:i}=await new r.S().FetchFromServer(x.endpoint,x.method,x.authenticate,void 0,e,t);return{data:n,isError:i}},B=async e=>{let{data:t,isError:n}=await new r.S().FetchFromServer(f.endpoint,f.method,!1,void 0,e);return{data:t,isError:n}},H=async e=>{let{data:t,isError:n}=await new r.S().FetchFromServer(g.endpoint,g.method,g.authenticate,void 0,e);return{data:t,isError:!t.success||n}},U=async e=>{let{data:t,isError:n}=await new r.S().FetchFromServer(y.endpoint,y.method,y.authenticate,void 0,e);return{data:t,isError:n}},q=async e=>{let{data:t,isError:n}=await new r.S().FetchFromServer(s.endpoint,s.method,s.authenticate,void 0,e);return{data:t,isError:n}},K=async e=>{let{data:t,isError:n}=await new r.S().FetchFromServer(k.endpoint,k.method,k.authenticate,void 0,e);return{data:t,isError:n}},W=async(e,t)=>{let{data:n,isError:i}=await new r.S().FetchFromServer(b.endpoint,b.method,b.authenticate,void 0,e,t);return{data:n,isError:i}},X=async(e,t)=>{let{data:n,isError:i}=await new r.S().FetchFromServer(I.endpoint,I.method,I.authenticate,void 0,{propertyName:e,roomName:t});return{data:n,isError:i}},Y=async e=>{let{citySlug:t,countrySlug:n,universitySlug:i}=e,a=new r.S;a.setHost(o.q.MICROSERVICE_API_URL+"/cost-of-living");let[{data:c},{data:l},{data:s},{data:f}]=await Promise.all([a.FetchFromServer(d.endpoint,d.method,d.authenticate,{citySlug:t,countrySlug:n,universitySlug:i}),a.FetchFromServer(u.endpoint,u.method,u.authenticate,{citySlug:t,clothing:"economical",countrySlug:n,entertainment:"economical",fitness:"economical",mobile:"economical"}),a.FetchFromServer(h.endpoint,h.method,h.authenticate,{citySlug:t,countrySlug:n,eatFrequency:"thrice",resturantType:"takeaway"}),a.FetchFromServer(m.endpoint,m.method,m.authenticate,{bicycle:"Rarely",citySlug:t,countrySlug:n,publictransport:"rarely",taxi:"rarely",walking:"Rarely"})]);return{foodAmount:s,housingAmount:c,miscellaneousAmount:l,travelAmount:f}},J=async e=>{let{data:t,isError:n}=await new r.S().FetchFromServer(E.endpoint,E.method,!1,void 0,e);return{data:t,isError:n}},Q=async(e,t)=>{let{data:n,isError:r}=await t.FetchFromServer(S.endpoint,S.method,!1,void 0,e);return{data:n,isError:r}},$=async e=>{let{data:t,isError:n}=await new r.S().FetchFromServer(l.endpoint,l.method,l.authenticate,void 0,[e]);return{data:t,isError:n}},ee=async e=>{let{data:t,isError:n}=await new r.S().FetchFromServer(R.endpoint.replace(":propertyID",e),R.method,R.authenticate);return{data:t,isError:n}},et=async()=>{let{data:e,isError:t}=await new r.S().FetchFromServer(v.endpoint,v.method,v.authenticate);return{data:e,isError:t}},en=async e=>{let{data:t,isError:n}=await new r.S().FetchFromServer(T.endpoint,T.method,!1,e);return{data:t,isError:n}},er=async(e,t)=>{let{data:n,isError:i}=await new r.S().FetchFromServer(L.endpoint,L.method,!1,{...e&&{country:e},...t&&{state:t}});return{data:n,isError:i}}},81898:function(e,t,n){n.d(t,{dN:function(){return a},p6:function(){return o},jK:function(){return c}});var r=n(76090);let i=e=>r.N[e]||"en-GB",a=(e,t,n)=>{try{return new Intl.NumberFormat(i(n),{currency:(null==t?void 0:t.toLowerCase())==="euro"?"eur":t,maximumFractionDigits:Number.isInteger(e)?0:2,minimumFractionDigits:Number.isInteger(e)?0:2,style:"currency"}).format(e)}catch(r){return e}},o=(e,t)=>("string"==typeof e&&(e=new Date(e)),new Intl.DateTimeFormat(i(t)).format(e)),c=(e,t)=>{let n=i(e);return("EURO"===t&&(t="EUR"),t&&e)?0..toLocaleString(n,{currency:t,maximumFractionDigits:0,minimumFractionDigits:0,style:"currency"}).replace(/\d/g,"").trim():t}}}]);