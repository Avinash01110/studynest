(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3498],{23498:function(e,t,a){"use strict";a.r(t);var r=a(85893),n=a(11163),l=a(67294),s=a(7243),c=a(34045),o=a(39407),i=a(11916),h=a(53615),u=a(31979),d=a(81990),m=a(536),v=a(99818),f=a(34431),x=a(42485),p=a(21423),g=a(739),y=a(60513),w=a(20943),N=a(69378),j=a(72502),b=a(7263),k=a(73364),C=a.n(k),S=a(23737),M=a.n(S);let{INITIAL_SEARCH:L}=c.q,{SUGGESTED_COUNTRY:E,SUGGESTED_POPULAR_CITIES:Z,SUGGESTED_POPULAR_UNIVERSITIES:_,SUGGESTED_RECENT_SEARCHES:z}=u.D,{Clock:K,HomeFill:B,Location:R,UniversityCap:T}=h.Z,U=e=>{let{autoFocus:t,className:a,headerSearchBox:c,inputClassName:h,onSearchBarToggleInHeader:u,showSearchOnHeader:k,source:S}=e,B=(0,l.useRef)(),{asPath:U}=(0,n.useRouter)(),{state:{isMobile:I}}=(0,d.kN)(),{actions:{showErrorToast:q}}=(0,f.V6)(),O=null==U?void 0:U.split("?")[0],P=i.UK.UK,[V,Y]=(0,l.useState)(),[A,H]=(0,l.useState)(""),[G,J]=(0,l.useState)([]),[W,$]=(0,l.useState)(!1),[Q,X]=(0,l.useState)(!1),[ee,et]=(0,l.useState)(P),[ea,er]=(0,l.useState)([]),en=(0,l.useRef)(),el=e=>{e.target.value&&(0,p.L9)({eventName:"searchTerm",keyword:e.target.value})},es=(0,l.useMemo)(()=>(0,j.D)(e=>{(0,p.L9)({eventName:"searchTermNoMatch",keyword:e})},300),[]),ec=(0,l.useMemo)(()=>(0,j.D)(el,300),[]),eo=(0,l.useCallback)(()=>{var e,t,a;(null===(e=B.current)||void 0===e?void 0:e.state.showMenu)&&(null==u||u(!1),H(""),X(!1),null===(t=B.current)||void 0===t||t.clear(),null==B||null===(a=B.current)||void 0===a||a.blur())},[u]),ei=()=>{I||k||"/"!==O||eo()};(0,v.Z)(en,eo),(0,l.useEffect)(()=>{let e=(0,j.D)(ei,500);window.addEventListener("scroll",e);let t=(0,y.KM)();return er(t?JSON.parse(t):[]),()=>{window.removeEventListener("scroll",e)}},[]),(0,l.useEffect)(()=>{if(t){var e;null===(e=B.current)||void 0===e||e.focus()}},[t]),(0,l.useEffect)(()=>{H(""),X(!1)},[U]);let[{data:eh}]=(0,m.Z)(L.endpoint),eu=e=>{let t=o.$x.test(e);if(t){let a=e.trim();H(a),V&&V.cancelRequest(),a&&1!==a.length||X(!0)}},ed=(0,l.useCallback)(async e=>{if(e.trim().length>0){X(!1),$(!0);let t=new g.S;Y(t);let{data:a,isError:r}=await (0,x.i)(e.trim(),t);if($(!1),r)q({message:o.bV});else{var n,l,s,c;let i=[...(null===(n=a.cities)||void 0===n?void 0:n.map(e=>({...e,type:"city"})))||[],...(null===(l=a.localities)||void 0===l?void 0:l.map(e=>({...e,type:"locality"})))||[],...(null===(s=a.universities)||void 0===s?void 0:s.map(e=>({...e,type:"university"})))||[],...(null===(c=a.properties)||void 0===c?void 0:c.map(e=>({...e,propertyType:e.type,type:"property"})))||[]];J(i),0===i.length&&es(e)}}else X(!0),et(P)},[P]),em=()=>{S&&(0,N.Lq)("".concat(S," Search")),null==u||u(!0),A||(X(!0),et(P))},ev=e=>{X(!0),et(e),(0,y.IV)("RECENTLY_VISITED_COUNTRY",eh[e].slug),(0,y.IV)("RECENTLY_VISITED_COUNTRY_NAME",e)},ef=(0,l.useMemo)(()=>eh?Object.keys(eh):[],[eh]),ex=e=>{switch(e){case"city":case"locality":return"City Listing";case"university":return"University listing";case"property":return"Property Detail";default:return""}},ep=(e,t)=>{var a,r;let n=(0,y.KM)();(n=n?JSON.parse(n):[]).filter(t=>{let{name:a}=t;return a===e.name}).length||(n.unshift({type:t,...e}),n=n.slice(0,3),(0,y.Z9)(n),er(n)),null===(a=B.current)||void 0===a||a.blur(),null===(r=B.current)||void 0===r||r.clear(),X(!1),null==u||u(!1),ey(e),(0,p.L9)({eventName:"search",keyword:A,page:ex(t||e.type),pathname:(0,w.K)(e)})},eg=e=>{let[t]=e;t&&(ep(t),location.href=(0,w.K)(t))},ey=e=>{let{city:t,country:a,name:r,type:n}=e;(0,N.Lq)("Search",{"City Name":t,"Country Name":a,Name:r,"Search Click type":n,"Searched from Name":document.title.replace(/ \| .+/,""),"Searched from URL":U,"Searched keyword":A})},ew=e=>{null==u||u(!1),ey(e),X(!1)},eN=(0,l.useMemo)(()=>eh?eh[ee].city:[],[eh,ee]),ej=(0,l.useMemo)(()=>eh?eh[ee].university:[],[eh,ee]);return(0,r.jsxs)("div",{automation_id:"Search_Bar",className:"".concat(C().searchBarMain," ").concat(a," pt-5 w-full md:w-[90%] flex justify-center flex-col gap-2 relative z-[1]"),ref:en,children:[(0,r.jsx)(s.Wf,{filterBy:()=>!0,id:"async-pagination-example",inputProps:{autoComplete:"new-password",className:"px-8 py-4 w-full ".concat(h||"h-13")},isLoading:W,labelKey:"name",onChange:eg,onFocus:em,onInputChange:eu,onKeyDown:ec,onSearch:ed,options:G,placeholder:"Search by City, University or Property",ref:B,renderMenu:(e,t)=>(0,r.jsx)(s.v2,{...t,children:e.map((e,t)=>(0,r.jsx)(D,{option:e,position:t,children:(0,r.jsx)(F,{option:e})},t))}),selectHint:(e,t)=>e||"Enter"===t.key,useCache:!1}),(0,r.jsxs)("div",{className:"dropMenu absolute mt-2.5 bg-white rounded-md w-full transition translate-y-20 shadow ".concat(Q?"top-full visible -translate-y-0 overflow-hidden z-10":"invisible"),children:[(0,r.jsx)("ul",{className:"flex h-11 bg-gray-100 overflow-x-scroll no-scrollbar",children:ef.map(e=>{var t,a;return(0,r.jsxs)("li",{className:"flex-grow flex items-center justify-center ".concat(M().countryFlag," px-6 gap-2 text-center border-b-2 transition delay-300 content-font cursor-pointer hover:text-theme-orange ").concat(ee===e?"text-theme-orange border-theme-orange bg-theme-orange-active/10":"hover:border-theme-orange-hover/25"," ").concat(E),onClick:()=>ev(e),children:[(0,r.jsx)("span",{className:"block mr-2 flag flag-".concat(null==eh?void 0:null===(t=eh[e])||void 0===t?void 0:null===(a=t.countryCode)||void 0===a?void 0:a.toLowerCase())}),eh[e].displayName]},e)})}),(0,r.jsxs)("div",{className:"p-4 ".concat(Q?"".concat(c?"max-h-[50vh] md:max-h-[75vh]":"max-h-[51vh]"," overflow-y-auto"):""),children:[ea.length>0&&(0,r.jsxs)("div",{className:"flex mb-2 items-start",children:[(0,r.jsx)(K,{className:"w-6 h-7 stroke-theme-orange flex-shrink-0"}),(0,r.jsxs)("div",{className:"flex flex-col w-full",children:[(0,r.jsx)("span",{className:"text-base text-theme-orange pl-5 font-semibold",children:"Recent Searches"}),(0,r.jsx)("ul",{className:"flex flex-wrap",children:ea.map(e=>(0,r.jsx)("li",{children:(0,r.jsx)(b.Z,{className:"content-font px-5 py-2 block rounded-md hover:bg-theme-orange/5 hover:text-theme-orange focus:bg-theme-orange/5 focus:text-theme-orange ".concat(z),href:(0,w.K)(e),onClick:()=>ew(e),children:e.name})},e.slug))})]})]}),(0,r.jsxs)("div",{className:"flex mb-3 items-start",children:[(0,r.jsx)(R,{className:"w-6 h-7 fill-theme-orange flex-shrink-0"}),(0,r.jsxs)("div",{className:"flex flex-col w-full",children:[(0,r.jsxs)("span",{className:"text-base text-theme-orange pl-5 font-semibold",children:["Popular Cities in ",ee]}),(0,r.jsx)("ul",{className:"flex flex-wrap",children:eN.map(e=>(0,r.jsx)("li",{className:"w-1/2",children:(0,r.jsx)(b.Z,{className:"content-font px-5 py-2 block rounded-md hover:bg-theme-orange/5 hover:text-theme-orange ".concat(Z),href:(0,w.K)(e,"city"),onClick:()=>ep(e,"city"),children:e.name})},e.slug))})]})]}),(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)(T,{className:"w-6 h-7 fill-theme-orange flex-shrink-0"}),(0,r.jsxs)("div",{className:"flex flex-col w-full",children:[(0,r.jsxs)("span",{className:"text-base text-theme-orange pl-5 font-semibold",children:["Popular University in ",ee]}),(0,r.jsx)("ul",{className:"flex flex-wrap",children:ej.map(e=>(0,r.jsx)("li",{className:"w-1/2",children:(0,r.jsx)(b.Z,{className:"content-font px-5 py-2 block rounded-md hover:bg-theme-orange/5 hover:text-theme-orange ".concat(_),href:(0,w.K)(e,"university"),onClick:()=>ep(e,"university"),children:e.name})},e.slug))})]})]})]})]})]})};t.default=U;let D=e=>(0,r.jsx)("div",{...(0,s.YM)(e)}),F=e=>{let{option:t}=e;switch(t.type){case"city":case"locality":return(0,r.jsxs)(b.Z,{className:"group transition flex items-start px-4 py-3 w-full hover:bg-gray-100",href:(0,w.K)(t),children:[(0,r.jsx)(R,{className:"w-5 h-5 mt-0.5 mr-4 fill-theme-orange"}),(0,r.jsxs)("div",{className:"content-font",children:[(0,r.jsx)("div",{className:"font-semibold mb-0.5 text-theme-orange group-hover:text-theme-orange",children:t.name}),(0,r.jsxs)("div",{className:"text-gray-600",children:["locality"===t.type?"".concat(t.city,", "):"",t.country]})]})]});case"university":return(0,r.jsxs)(b.Z,{className:"group transition flex items-start px-4 py-3 w-full hover:bg-gray-100",href:(0,w.K)(t),onClick:()=>(0,y.TG)(t),children:[(0,r.jsx)(T,{className:"w-6 h-7 fill-theme-orange flex-shrink-0 mr-3.5"}),(0,r.jsxs)("div",{className:"content-font",children:[(0,r.jsx)("div",{className:"font-semibold mb-0.5 text-theme-orange group-hover:text-theme-orange",children:t.name}),(0,r.jsxs)("div",{className:"text-gray-600",children:[t.city,", ",t.country]})]})]});case"property":return(0,r.jsxs)(b.Z,{className:"group transition flex items-start px-4 py-3 w-full hover:bg-gray-100",href:(0,w.K)(t),children:[(0,r.jsx)(B,{className:"w-5 h-5 mt-0.5 mr-4 fill-theme-orange"}),(0,r.jsxs)("div",{className:"content-font",children:[(0,r.jsx)("div",{className:"font-semibold mb-0.5 text-theme-orange group-hover:text-theme-orange",children:t.name}),(0,r.jsxs)("div",{className:"text-gray-600",children:[t.city,", ",t.country]})]})]})}}},20943:function(e,t,a){"use strict";a.d(t,{K:function(){return n}});var r=a(86287);let n=(e,t)=>{let{citySlug:a,countrySlug:n,createdAt:l,slug:s,propertyType:c}=e,o=t||e.type;switch(o){case"city":return"/".concat(n,"/city/").concat(s);case"locality":return"/".concat(n,"/").concat(a,"/place/").concat(s);case"university":return"/".concat(n,"/").concat(a,"/u/").concat(s);case"property":return(0,r.Z)({citySlug:a,countrySlug:n,createdAt:l,propertySlug:s,type:c});default:return"/"}}},3573:function(e,t,a){"use strict";var r=a(85893);let n=e=>{let{className:t}=e;return(0,r.jsxs)("svg",{className:t,fill:"none",height:24,viewBox:"0 0 24 24",width:24,xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M12 14.398l-7.16-2.203v3.68c0 1.701 3.207 3.08 7.162 3.08s7.162-1.379 7.162-3.08c0-.014-.004-.027-.004-.04v-3.64L12 14.398z"}),(0,r.jsx)("path",{d:"M0 9.661l2.558.915.218-.467.94-.08.133.14-.806.19-.118.349s-1.82 3.807-1.553 5.67c0 0 1.136.677 2.273 0l.302-5.093v-.424l1.69-.381-.119.294-1.26.41.583.208L12 13.596l7.16-2.204L24 9.662 12 5.043 0 9.661z"})]})};t.Z=n},53615:function(e,t,a){"use strict";a.d(t,{Z:function(){return h}});var r=a(89807),n=a(47439),l=a(85893);let s=e=>{let{className:t}=e;return(0,l.jsx)("svg",{className:t,fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{clipRule:"evenodd",d:"M3 2.25a.75.75 0 000 1.5v16.5h-.75a.75.75 0 000 1.5H15v-18a.75.75 0 000-1.5H3zM6.75 19.5v-2.25a.75.75 0 01.75-.75h3a.75.75 0 01.75.75v2.25a.75.75 0 01-.75.75h-3a.75.75 0 01-.75-.75zM6 6.75A.75.75 0 016.75 6h.75a.75.75 0 010 1.5h-.75A.75.75 0 016 6.75zM6.75 9a.75.75 0 000 1.5h.75a.75.75 0 000-1.5h-.75zM6 12.75a.75.75 0 01.75-.75h.75a.75.75 0 010 1.5h-.75a.75.75 0 01-.75-.75zM10.5 6a.75.75 0 000 1.5h.75a.75.75 0 000-1.5h-.75zm-.75 3.75A.75.75 0 0110.5 9h.75a.75.75 0 010 1.5h-.75a.75.75 0 01-.75-.75zM10.5 12a.75.75 0 000 1.5h.75a.75.75 0 000-1.5h-.75zM16.5 6.75v15h5.25a.75.75 0 000-1.5H21v-12a.75.75 0 000-1.5h-4.5zm1.5 4.5a.75.75 0 01.75-.75h.008a.75.75 0 01.75.75v.008a.75.75 0 01-.75.75h-.008a.75.75 0 01-.75-.75v-.008zm.75 2.25a.75.75 0 00-.75.75v.008c0 .414.336.75.75.75h.008a.75.75 0 00.75-.75v-.008a.75.75 0 00-.75-.75h-.008zM18 17.25a.75.75 0 01.75-.75h.008a.75.75 0 01.75.75v.008a.75.75 0 01-.75.75h-.008a.75.75 0 01-.75-.75v-.008z",fillRule:"evenodd"})})};var c=a(3573),o=a(75266);let i={Building:s,Clock:r.Z,HomeFill:o.Z,Location:n.Z,UniversityCap:c.Z};var h=i},536:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var r=a(59734),n=a(739);function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2?arguments[2]:void 0,l=new n.S;return[(0,r.ZP)(e?[e,t]:null,e=>{let[t,a]=e;return l.FetchFromServer("".concat(t).concat(a)).then(e=>e.data)},{...a}),l]}},99818:function(e,t,a){"use strict";var r=a(67294);t.Z=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,r.useEffect)(()=>{let r=a=>{"TravelClass"===a.target.id||!e.current||e.current.contains(a.target)||t(a)};return document.addEventListener("mousedown",r),a&&document.addEventListener("touchstart",r),()=>{document.removeEventListener("mousedown",r),a&&document.removeEventListener("touchstart",r)}},[e,t,a])}},42485:function(e,t,a){"use strict";a.d(t,{i:function(){return c}});var r=a(34045),n=a(739);let{INITIAL_SEARCH:l,SEARCH:s}=r.q,c=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new n.S,{data:a,isError:r}=await t.FetchFromServer("".concat(s.endpoint,"?searchTerm=").concat(e),s.method);return{data:a,isError:r}}},73364:function(e){e.exports={darkCyan:"#1eb197",lightGray:"#d4d4d4",themeBlue:"#3c3c71",themeOrange:"#f56a54",themeLightBlue:"#f8f8fc",searchBarMain:"SearchBar_searchBarMain__qwCma","dropdown-item":"SearchBar_dropdown-item__xkYlG",disabled:"SearchBar_disabled__RcA93"}}}]);